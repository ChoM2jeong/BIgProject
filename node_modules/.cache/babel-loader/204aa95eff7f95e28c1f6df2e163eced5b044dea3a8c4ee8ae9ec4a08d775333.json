{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\final\\\\front\\\\src\\\\components\\\\js\\\\UserProfileEdit.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport '../css/UserProfileEdit.css';\nimport UserProfileEditDetails from './UserProfileEditDetails';\nimport EditPermit from '../../logo/edit_logo.png';\nimport axios from 'axios';\nimport { Cookies } from 'react-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProfileEdit = () => {\n  _s();\n  const passwordFromState = \"123\";\n  const [password, setPassword] = useState('');\n  const [isPasswordCorrect, setIsPasswordCorrect] = useState(false);\n  const cookies = new Cookies();\n  const jwtToken = cookies.get('Authorization');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const userpw = {\n      'currentpw': password\n    };\n    const bearerToken = jwtToken.startsWith('Bearer ') ? jwtToken : `Bearer ${jwtToken}`;\n    try {\n      const response = await axios.post(`http://localhost:8080/member/check/curretpw`, userpw, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': bearerToken\n        }\n      });\n      setIsPasswordCorrect(true);\n    } catch (error) {\n      if (error.response) {\n        alert(error.response.data);\n        console.error(\"비밀번호가 틀렸습니다.\");\n      } else {\n        console.error('원인 모를 에러 발생', error);\n      }\n    }\n  };\n  if (isPasswordCorrect) {\n    return /*#__PURE__*/_jsxDEV(UserProfileEditDetails, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edit-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"edit-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uB0B4 \\uC815\\uBCF4 \\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: EditPermit,\n        alt: \"Edit Permit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uB0B4 \\uC815\\uBCF4 \\uC218\\uC815\\uC744 \\uC704\\uD574\\uC11C\\uB294 \\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\\uC774 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uC785\\uB825\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\uD655\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProfileEdit, \"1cUFvJL3iAFg4JvPwm/D2Cz4DYk=\");\n_c = UserProfileEdit;\nexport default UserProfileEdit;\nvar _c;\n$RefreshReg$(_c, \"UserProfileEdit\");","map":{"version":3,"names":["React","useState","useSelector","UserProfileEditDetails","EditPermit","axios","Cookies","jsxDEV","_jsxDEV","UserProfileEdit","_s","passwordFromState","password","setPassword","isPasswordCorrect","setIsPasswordCorrect","cookies","jwtToken","get","handleSubmit","e","preventDefault","userpw","bearerToken","startsWith","response","post","headers","error","alert","data","console","fileName","_jsxFileName","lineNumber","columnNumber","className","children","src","alt","onSubmit","type","value","onChange","target","placeholder","required","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/final/front/src/components/js/UserProfileEdit.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport '../css/UserProfileEdit.css';\nimport UserProfileEditDetails from './UserProfileEditDetails';\nimport EditPermit from '../../logo/edit_logo.png';\nimport axios from 'axios';\nimport { Cookies } from 'react-cookie';\n\nconst UserProfileEdit = () => {\n  const passwordFromState = \"123\";\n  const [password, setPassword] = useState('');\n  const [isPasswordCorrect, setIsPasswordCorrect] = useState(false);\n\n  const cookies = new Cookies();\n  const jwtToken = cookies.get('Authorization');\n\n  const handleSubmit = async(e) => {\n    e.preventDefault();\n\n    const userpw = {  \n      'currentpw': password\n    };\n    \n    const bearerToken = jwtToken.startsWith('Bearer ') ? jwtToken : `Bearer ${jwtToken}`;\n\n    try{\n      const response = await axios.post(`http://localhost:8080/member/check/curretpw`,userpw, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': bearerToken,\n        },\n      });\n      setIsPasswordCorrect(true);\n    }catch(error){\n      if (error.response) {\n        alert(error.response.data);\n        console.error(\"비밀번호가 틀렸습니다.\")\n      }else{\n        console.error('원인 모를 에러 발생', error);\n      }\n    }\n  };\n\n  if (isPasswordCorrect) {\n    return <UserProfileEditDetails />;\n  }\n\n  return (\n    <div className=\"edit-container\">\n      <div className=\"edit-content\">\n        <h2>내 정보 수정</h2>\n        <img src={EditPermit} alt=\"Edit Permit\" />\n        <p>내 정보 수정을 위해서는 비밀번호 확인이 필요합니다.</p>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"비밀번호 입력\"\n            required\n          />\n          <button type=\"submit\">확인</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default UserProfileEdit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}