{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\final\\\\front\\\\src\\\\components\\\\js\\\\Modal.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Cookies } from 'react-cookie';\nimport axios from 'axios';\nimport '../css/Modal.css'; // 모달 스타일을 위한 CSS 파일\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Modal = ({\n  isOpen,\n  onClose,\n  correctAnswers,\n  incorrectAnswers,\n  year,\n  month,\n  subject,\n  type\n}) => {\n  _s();\n  const [analysisResult, setAnalysisResult] = useState(null);\n  const cookies = new Cookies();\n  const jwtToken = cookies.get('Authorization');\n  if (!isOpen) return null;\n  const handleAnalyze = async () => {\n    const bearerToken = jwtToken.startsWith('Bearer ') ? jwtToken : `Bearer ${jwtToken}`;\n    try {\n      const response = await axios.post('http://localhost:5000/analyze', {\n        correctAnswers,\n        incorrectAnswers\n      });\n      setAnalysisResult(response.data.analysis);\n      const yearInt = parseInt(year, 10);\n      const monthInt = parseInt(month, 10);\n      await axios.post('http://localhost:8080/analyze/save', {\n        year: yearInt,\n        month: monthInt,\n        subject,\n        type,\n        analyze: response.data.analysis\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': bearerToken\n        }\n      });\n    } catch (error) {\n      console.error('Error analyzing answers:', error);\n    }\n  };\n  const handleClose = () => {\n    setAnalysisResult(null);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uCC44\\uC810 \\uACB0\\uACFC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"correct-answers\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uB9DE\\uC740 \\uBB38\\uC81C: \", correctAnswers.length, \"\\uAC1C\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"answers-list\",\n            children: correctAnswers.map(question => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\uBB38\\uC81C \", question]\n            }, question, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"incorrect-answers\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uD2C0\\uB9B0 \\uBB38\\uC81C: \", incorrectAnswers.length, \"\\uAC1C\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"answers-list\",\n            children: incorrectAnswers.map(question => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\uBB38\\uC81C \", question]\n            }, question, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"analyze\",\n        onClick: handleAnalyze,\n        children: \"\\uBD84\\uC11D\\uBC1B\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close_btn\",\n        onClick: handleClose,\n        children: \"\\uB2EB\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), analysisResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"analysis-result\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uBD84\\uC11D \\uACB0\\uACFC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: analysisResult\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(Modal, \"QoqaGSK8H+bStj6Aa/6UaUGJ9RA=\");\n_c = Modal;\nexport default Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useState","Cookies","axios","jsxDEV","_jsxDEV","Modal","isOpen","onClose","correctAnswers","incorrectAnswers","year","month","subject","type","_s","analysisResult","setAnalysisResult","cookies","jwtToken","get","handleAnalyze","bearerToken","startsWith","response","post","data","analysis","yearInt","parseInt","monthInt","analyze","headers","error","console","handleClose","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","question","onClick","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/final/front/src/components/js/Modal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Cookies } from 'react-cookie';\r\nimport axios from 'axios';\r\nimport '../css/Modal.css'; // 모달 스타일을 위한 CSS 파일\r\n\r\nconst Modal = ({ isOpen, onClose, correctAnswers, incorrectAnswers,year,month,subject,type }) => {\r\n    const [analysisResult, setAnalysisResult] = useState(null);\r\n\r\n    const cookies = new Cookies();\r\n    const jwtToken = cookies.get('Authorization');\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleAnalyze = async () => {\r\n        const bearerToken = jwtToken.startsWith('Bearer ') ? jwtToken : `Bearer ${jwtToken}`;\r\n\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/analyze', {\r\n                correctAnswers,\r\n                incorrectAnswers\r\n            });\r\n            setAnalysisResult(response.data.analysis);\r\n            \r\n            const yearInt = parseInt(year, 10);\r\n            const monthInt = parseInt(month, 10);\r\n\r\n            await axios.post('http://localhost:8080/analyze/save', {\r\n                year: yearInt,\r\n                month: monthInt,\r\n                subject,\r\n                type,\r\n                analyze: response.data.analysis\r\n            }, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': bearerToken,\r\n                },\r\n            });\r\n\r\n        } catch (error) {\r\n            console.error('Error analyzing answers:', error);\r\n        }\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnalysisResult(null);\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-overlay\">\r\n            <div className=\"modal-content\">\r\n                <h2>채점 결과</h2>\r\n                <div className=\"result-container\">\r\n                    <div className=\"correct-answers\">\r\n                        <h3>맞은 문제: {correctAnswers.length}개</h3>\r\n                        <ul className=\"answers-list\">\r\n                            {correctAnswers.map(question => (\r\n                                <li key={question}>문제 {question}</li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"incorrect-answers\">\r\n                        <h3>틀린 문제: {incorrectAnswers.length}개</h3>\r\n                        <ul className=\"answers-list\">\r\n                            {incorrectAnswers.map(question => (\r\n                                <li key={question}>문제 {question}</li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                    <button className=\"analyze\" onClick={handleAnalyze}>분석받기</button>\r\n                    <button className=\"close_btn\" onClick={handleClose}>닫기</button>\r\n                {analysisResult && (\r\n                    <div className=\"analysis-result\">\r\n                        <h3>분석 결과</h3>\r\n                        <p>{analysisResult}</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}